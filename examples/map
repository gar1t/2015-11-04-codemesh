#!/bin/bash -eu

map() {
    local fun=$1
    local -a vals=("${@:2}")
    for val in "${vals[@]}"; do
        eval "$fun $val"
    done
}

incr() {
    echo $(($1 + 1))
}

map incr 1 2 3 4
